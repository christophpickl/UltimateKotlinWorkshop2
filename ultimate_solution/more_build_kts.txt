
tasks {
    "myDemo" { // ==> ./gradlew myDemo
        println("hello from myDemo task")
    }
}



val tests = mapOf(
        "API" to "src/test/resources/api/ApiTestSuite.xml",
        "System" to "src/test/resources/system/SystemTestSuite.xml"
)

val testTasks = tests.map {
    val (name, path) = it
    task<Test>("test$name") {
        val testNGOptions = closureOf<TestNGOptions> {
            suites(path)
        }
        useTestNG(testNGOptions)
    }
}

